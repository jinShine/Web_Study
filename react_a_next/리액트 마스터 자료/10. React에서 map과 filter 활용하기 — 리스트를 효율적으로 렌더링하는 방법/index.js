/*
 * ğŸ“˜ React ë°°ì—´ ë Œë”ë§ ì‹¤ìŠµ â€“ filter()ì™€ map() ì™„ì „ ì •ë³µ
 * ì£¼ì œ: ë°°ì—´ ë°ì´í„°ë¥¼ ì¡°ê±´ì— ë§ê²Œ í•„í„°ë§í•˜ê³ , JSXë¡œ ë Œë”ë§í•˜ê¸°
 * ì‘ì„±ì: (ì˜ˆ: Chulsoo)
 * ------------------------------------------------------------
 * filter()  â†’ ì¡°ê±´ì— ë§ëŠ” ë°ì´í„°ë§Œ ì¶”ë ¤ëƒ„
 * map()     â†’ ê° í•­ëª©ì„ ìƒˆë¡œìš´ í˜•íƒœë¡œ ë³€í™˜ (JSX ìƒì„±)
 */

// ------------------------------------------------------
// 1ï¸âƒ£ ê¸°ë³¸ JavaScript ì˜ˆì œ: filter() + map() ë™ì‘ ì´í•´
// ------------------------------------------------------
const fruits = [
  { name: "ì‚¬ê³¼", price: 1200 },
  { name: "ë°”ë‚˜ë‚˜", price: 800 },
  { name: "ì²´ë¦¬", price: 2500 }
];

// filter: ì¡°ê±´ì— ë§ëŠ” ê°’ë§Œ ì¶”ë ¤ëƒ„ (ê°€ê²©ì´ 2000ì› ë¯¸ë§Œ)
const cheapFruits = fruits.filter(fruit => fruit.price < 2000);

// map: ê° í•­ëª©ì„ ìƒˆë¡œìš´ í˜•íƒœ(ì´ë¦„ë§Œ)ë¡œ ë³€í™˜
const fruitNames = cheapFruits.map(fruit => fruit.name);

console.log(cheapFruits);
// ê²°ê³¼: [{ name: "ì‚¬ê³¼", price: 1200 }, { name: "ë°”ë‚˜ë‚˜", price: 800 }]

console.log(fruitNames);
// ê²°ê³¼: ["ì‚¬ê³¼", "ë°”ë‚˜ë‚˜"]
// â†’ filterë¡œ ì¡°ê±´ì— ë§ëŠ” ë°°ì—´ì„ ë§Œë“  í›„, mapìœ¼ë¡œ ì›í•˜ëŠ” í˜•íƒœë§Œ ì¶”ì¶œ


// ------------------------------------------------------
// 2ï¸âƒ£ Reactì—ì„œ map()ì„ ì´ìš©í•´ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§í•˜ê¸°
// ------------------------------------------------------
const fruits2 = ["ì‚¬ê³¼", "ë°”ë‚˜ë‚˜", "ì²´ë¦¬"];

function FruitList() {
  return (
    <ul>
      {fruits2.map((fruit, index) => (
        <li key={index}>{fruit}</li>
      ))}
    </ul>
  );
}

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(<FruitList />);
// â†’ ë°°ì—´ì˜ ê° ìš”ì†Œë¥¼ <li>ë¡œ ê°ì‹¸ ë Œë”ë§
// â†’ key ì†ì„±ì€ Reactê°€ ê° í•­ëª©ì„ êµ¬ë¶„í•˜ëŠ” ì‹ë³„ì ì—­í• ì„ í•¨


// ------------------------------------------------------
// 3ï¸âƒ£ map() ë¬¸ë²• ì£¼ì˜ì‚¬í•­ â€“ return ìƒëµ ì‹œ ì£¼ì˜
// ------------------------------------------------------

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ (í‘œí˜„ì‹ ë°”ë¡œ ë°˜í™˜)
{
  fruits2.map(fruit => <li>{fruit}</li>);
}

// âŒ ì˜ëª»ëœ ì˜ˆì‹œ (ë¸”ë¡ {} ì‚¬ìš© ì‹œ return ìƒëµí•˜ë©´ ì˜¤ë¥˜)
{
  fruits2.map(fruit => {
    <li>{fruit}</li>;
  });
}
// â†’ ë¸”ë¡ì„ ì‚¬ìš©í–ˆë‹¤ë©´ ë°˜ë“œì‹œ returnì„ ëª…ì‹œí•´ì•¼ í•¨!
//   returnì´ ì—†ìœ¼ë©´ mapì´ undefinedë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ í™”ë©´ì— ì•„ë¬´ê²ƒë„ ì•ˆ ë‚˜ì˜´.


// ------------------------------------------------------
// 4ï¸âƒ£ return ëª…ì‹œ ë²„ì „ (ë¸”ë¡ ë¬¸ë²•ì„ ì“¸ ë•Œ ì˜¬ë°”ë¥¸ í˜•íƒœ)
// ------------------------------------------------------
{
  fruits2.map(fruit => {
    return <li>{fruit}</li>;
  });
}
// â†’ ë¸”ë¡({})ì„ ì“°ë©´ ë°˜ë“œì‹œ returnì„ ëª…ì‹œí•´ì•¼ í•œë‹¤ëŠ” ì ì„ ê°•ì¡°!


// ------------------------------------------------------
// 5ï¸âƒ£ ì‘ìš©: filter() + map() í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ ì¡°ê±´ë¶€ ë Œë”ë§
// ------------------------------------------------------
const products = [
  { id: 1, name: "Keyboard", price: 30000 },
  { id: 2, name: "Mouse", price: 15000 },
  { id: 3, name: "Monitor", price: 220000 }
];

function CheapProducts() {
  return (
    <ul>
      {products
        // 2ë§Œì› ë¯¸ë§Œì¸ ì œí’ˆë§Œ í•„í„°ë§
        .filter(p => p.price < 20000)
        // í•„í„°ëœ ì œí’ˆì„ li íƒœê·¸ë¡œ ë³€í™˜
        .map(p => (
          <li key={p.id}>
            {p.name} â€“ {p.price.toLocaleString()}ì›
          </li>
        ))}
    </ul>
  );
}

root.render(<CheapProducts />);
// ê²°ê³¼: 
// <ul>
//   <li>Mouse â€“ 15,000ì›</li>
// </ul>
// â†’ filterë¡œ ê±¸ëŸ¬ë‚¸ ë’¤ mapìœ¼ë¡œ JSX ìƒì„±.
//   toLocaleString()ìœ¼ë¡œ ìˆ«ìë¥¼ 1,000 ë‹¨ìœ„ë¡œ ë³´ê¸° ì¢‹ê²Œ í‘œì‹œ.
